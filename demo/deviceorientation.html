<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>DeviceOrientationEvent</title>
  <style>
    * {padding: 0; margin: 0;}
    html, body {height: 100%;}
    .ball {position: absolute; width: 100px; height: 100px; border-radius: 50%; background: #0097da;}
  </style>
</head>
<body>
  <div class="ball"></div>
  <script>
    ;(function() {
      var ball = document.querySelector('.ball');  // 球
      var pw = document.body.clientWidth;  // 容器宽度
      var ph = document.body.clientHeight;  // 容器高度
      var cw = ball.clientWidth;  // 球宽度
      var ch = ball.clientHeight;  // 球宽度
      var w = pw - cw;  // 可滚动宽度
      var h = ph - ch;  // 可滚动高度
      var degW = w / 90;
      var degH = h / 90;
      var top = 0;
      var left = 0;

      var handleOrientation = function(event) {
        console.log(window.orientation);

        var alpha = event.alpha;  // z
        var beta = event.beta;  // x
        var gamma = event.gamma;  // y

        if (beta < 0) beta = 0;
        if (beta > 90) beta = 90;
        if (alpha < -45) alpha = -45;
        if (alpha > 45) alpha = 45;
        top = beta * degH;
        left = (alpha + 45) * degW;

        ball.style.top = top + 'px';
        ball.style.left = left + 'px';
      };

      window.addEventListener('deviceorientation', handleOrientation);
      window.addEventListener("devicemotion", handleOrientation);
    })();
  </script>
</body>
</html>