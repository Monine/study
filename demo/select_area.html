<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
	<meta charset="UTF-8">
	<title>区域选择</title>
	<style>
		.option-box {
			float: left;
			width: 200px;
			height: 400px;
			border: 1px solid #ddd;
		}
		.option-ul {
			height: 100%;
			padding: 0;
			margin: 0;
			overflow-x: hidden;
		}
		.option-li {
			padding-left: 20px;
			line-height: 25px;
			list-style: none;
			cursor: pointer;
		}
		.active {
			color: #fff;
	    background-color: #428bca;
		}
		.operate {
			position: relative;
			top: 130px;
			float: left;
			width: 50px;
		}
		.o-btn {
			padding: 10px;
			margin: 10px;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div class="wrapper">
		<div class="optional option-box">
			<ul class="option-ul optional-ul"></ul>
		</div>
		<div class="operate">
			<button class="o-btn add-area" type="button">&#62;</button>
			<button class="o-btn del-area" type="button">&#60;</button>
		</div>
		<div class="selected option-box">
			<ul class="option-ul selected-ul"></ul>
		</div>
	</div>
	<script src="../public/js/jQuery-2.1.4.js"></script>
	<script>
		$(function() {
			var area = ['北京市', '天津市', '河北省', '山西省', '内蒙古自治区', '辽宁省', '吉林省', '黑龙江省', '上海市', '江苏省', '浙江省', '安徽省', '福建省', '江西省', '山东省', '河南省', '湖北省', '湖南省', '广东省', '广西壮族自治区', '海南省', '重庆市', '四川省', '贵州省', '云南省', '西藏自治区', '陕西省', '甘肃省', '青海省', '宁夏回族自治区', '新疆维吾尔自治区', '台湾省', '香港特別行政區', '澳門特別行政區'];

			var i, areaLength = area.length;
			for (var i = 0; i < areaLength; i++) {
				$('.optional-ul').append('<li class="option-li optional-li">' + area[i] + '</li>');
			}

			$('.option-ul').delegate('.option-li', 'click', function(event) {
				var _this = event.target;

				$('.option-li').removeClass('active');
				$(_this).addClass('active');
			});

			var optionalArea = area.slice();
			var selectedArea = [];

			$('.add-area').click(function() {
				var allOptional = $('.optional-li');

				var i, index, currentOption, currentOptionName;
				var optionalLength = allOptional.length;
				for (i = 0; i < optionalLength; i++) {
					if ($(allOptional[i]).hasClass('active')) {
						currentOption = $(allOptional[i]);
						currentOptionName = currentOption.text();

						currentOption.removeClass('optional-li').addClass('selected-li');
						$('.selected-ul').append(currentOption);

						index = optionalArea.indexOf(currentOptionName);
						optionalArea.splice(index, 1);
						selectedArea.push(currentOptionName);
						break;
					}
				}
			});

			$('.del-area').click(function() {
				var allSelected = $('.selected-li');

				var i, currentOption, currentOptionName, selectedIndex;
				var selectedLength = allSelected.length;
				var initArea = area.slice();
				for (i = 0; i < selectedLength; i++) {
					if ($(allSelected[i]).hasClass('active')) {
						currentOption = $(allSelected[i]);
						currentOptionName = currentOption.text();

						selectedIndex = selectedArea.indexOf(currentOptionName);
						selectedArea.splice(selectedIndex, 1);
						currentOption.remove();

						var j, currentSelectedName, index;
						var currentSelectedAreaLength = selectedArea.length;
						for (j = 0; j < currentSelectedAreaLength; j++) {
							currentSelectedName = selectedArea[j];

							index = initArea.indexOf(currentSelectedName);
							initArea.splice(index, 1);
						}

						$('.optional-ul').children().remove();

						var k, currentOptionalLength = initArea.length;
						for (k = 0; k < currentOptionalLength; k++) {
							$('.optional-ul').append('<li class="option-li optional-li">' + initArea[k] + '</li>');
						}
						break;
					}
				}
			});
		});
	</script>
</body>
</html>